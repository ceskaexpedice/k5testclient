$convert.stringsDelimiter("/")
#set($pids = $convert.toStrings($params.pid_path))

#set($q = '')
#foreach($pid in $pids)     
#if($velocityCount > 1)
    #set($q = "$q OR")
#end
    #set($q = "$q PID: \"$pid\"")
#end
<c:url var="url" value="${kconfig.solrHost}/select" >
    <c:param name="q" value="${q}" />
</c:url>
<c:import url="${url}" var="xml" charEncoding="UTF-8" />
<jsp:useBean id="xml" type="java.lang.String" />

<%
    try {
        if (xs.isAvailable(xsl)) {
            String text = xs.transform(xml, xsl, lctx.getLocale());
            out.println(text);
            return;
        }
    } catch (Exception e) {
        out.println(e);
    }
%>
<c:url var="xslPage" value="xsl/extInfo.xsl" />
<c:catch var="exceptions"> 
    <c:import url="${xslPage}" var="xsltPage" charEncoding="UTF-8"  />
    <c:if test="${param.debug =='true'}"><c:out value="${url}" /></c:if>
    <x:transform doc="${xml}"  xslt="${xsltPage}"  >
        <x:param name="bundle_url" value="${i18nServlet}"/>
        <x:param name="pid" value="${pid}"/>
    </x:transform>
</c:catch>
<c:choose>
    <c:when test="${exceptions != null}">
        <c:out value="${exceptions}" />
        <c:out value="${url}" />
        <c:out value="${xml}" />
    </c:when>
</c:choose>
